[{"title":"Ubuntu18.04配置shadowsocks","url":"/2019/12/03/Ubuntu18-04配置shadowsocks/","content":"\n#### 更新软件源\n\n```bash\n$ sudo apt update\n```\n\n#### 安装python-pip\n\n```bash\n$ sudo apt install python3\n$ sudo apt install python3-pip\n```\n\n#### 安装shadowsocks\n\n```bash\n$ sudo pip3 install shadowsocks\n```\n\n#### 配置shadowsocks\n\n```bash\n$ sudo vim /etc/shadowsocks.json\n```\n\n```json\n{ \n\n\"server\":\"代理服务器ip\",\n\n\"server_port\":代理服务器端口,\n\n\"password\":\"代理服务器访问密码\",  \n\n\"local_address\":\"127.0.0.1\", \n\n\"local_port\":1080, \n\n\"timeout\":600, \n\n\"method\":\"aes-256-cfb\" // 加密方式，注意shadowsocks版本支持\n\n}\n```\n\n#### 启动shadowsocks\n\n```bash\n$ sudo sslocal -c /etc/shadowsocks.json -d -start\n```\n\n> EVP_CIPHER_CTX_cleanup报错解决方法：\n>\n> 找到 /usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py 文件进行修改，\n>\n> 用vim 或 gedit 命令行都行：\n>\n> 此处以 shadowsocks-2.8.2的版本为例，其他版本自行在文件中搜索\n>\n> 1、将第52行\n>\n> libcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)\n>\n> 改为\n>\n> libcrypto.EVP_CIPHER_CTX_reset.argtypes = (c_void_p,)\n>\n> 2、将第111行\n>\n> libcrypto.EVP_CIPHER_CTX_cleanup(self._ctx)\n>\n> 改为\n>\n> libcrypto.EVP_CIPHER_CTX_reset(self._ctx)\n\n#### 安装GenPAC\n\n```bash\n$ sudo pip install genpac\n$ pip install —-upgrade genpac\n$ genpac --pac-proxy \"SOCKS5 127.0.0.1:1080\" --gfwlist-proxy=\"SOCKS5 127.0.0.1:1080\" --gfwlist-url=https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt --output=\"autoproxy.pac\"\n```\n\n找到下载下来的 autoproxy.pac文件，然后进入：设置—网络—网络代理，选择手动，URL 指向该文件路径即可，url 格式为：\n\nfile:///home/{user}/autoproxy.pac\n\n({user}替换成自己的用户)\n\n#### 安装privoxy\n\n```bash\n$ sudo apt install privoxy\n```\n\n配置privoxy\n\n```bash\n$ sudo gedit /etc/privoxy/config\n```\n\n打开文件找到4.1节 listen-address，找到#listen-address 127.0.0.1:8118，取消注释\n\n![avatar](img/01-01.jpeg)\n\n找到5.2节forward-socks4, forward-socks4a, forward-socks5 and forward-socks5t，\n\n找到#forward-socks5t / 127.0.0.1:9050 .（后面的.很重要，端口值改成1080即可）\n\n![avatar](img/01-02.jpeg)\n\n再修改~/.bashrc\n\n```bash\n$ sudo gedit ~/.bashrc\n```\n\n打开文件后，加入：\n\n```bash\nexport http_proxy=\"127.0.0.1:8118\"\n\nexport https_proxy=\"127.0.0.1:8118\"\n\nexport ftp_proxy=\"127.0.0.1:8118\"\n```\n\n#### 配置git代理\n\n```bash\n$ git config --global http.proxy 'socks5://127.0.0.1:1080' \n$ git config --global https.proxy 'socks5://127.0.0.1:1080'\n```\n\n#### 配置开机自启动\n\n```bash\n$ sudo touch /etc/rc.local\n$ sudo chmod 755 /etc/rc.local\n```\n\n编辑文件，添加以下内容\n\n```bash\n#!/bin/bash\nsudo sslocal -c /etc/shadowsocks.json -d start\nsudo /etc/init.d/privoxy start\n```\n\nreboot！","tags":["配置"]},{"title":"Hello World","url":"/2019/10/15/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n"}]